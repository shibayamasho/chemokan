# README

# アプリケーション名：『けもかん』

がん化学療法（Chemotherapy ケモセラピー）、通称『ケモ』を総合的に『簡単に管理』することができるアプリケーション。

「けも」は「ケモ」、「かん」は「管理」「簡単」から。



# アプリケーション概要
抗がん剤治療を行っている病院・診療所で、主に薬剤師（または医師・看護師）が利用することを想定したアプリケーション。

患者個人情報を取り扱うため、院内ネットワーク限定、またはスタンドアローンのPCでの利用を想定している。

がん領域・抗がん剤治療は、専門性の高さ、がん種の多さ、治療方法の幅広さ、取り扱う薬品の危険性の高さ、副作用コントロールの難しさなどの特徴があり、医療従事者にとっても難易度が高いと感じられる。

『けもかん』を利用して、レジメン管理、患者の抗がん剤治療歴を管理することにより、だれでも必要最低限の監査業務が手早く行うことができるようになる。


# URL
```
https://chemokan.herokuapp.com/
```


# Basic認証
- ID:shibayama
- Pass:111111



# テスト用アカウント
- UserID:11111111
- Pass:111111



# 利用方法
作成中




# 目指した課題解決
- 新人薬剤師でも、必要最低限の監査業務を手早く遂行できるようになること
- 治療歴を記録することで、個々の患者の治療歴が素早く確認できるようになること
- レジメンに適応疾患を登録し、治療歴で正しい適応疾患とレジメンの組み合わせが選択できることで、誤った治療方法の遂行を予防すること
- 投与量の計算、理論値、理論値からの割合は人間によるアナログの計算ではなく自動計算にすることで、ヒューマンエラーを極力減らすこと
- 投与量、副作用歴、検査値などのデータを一眼で確認し、総合的な投与可否の判断を行うことに医療者（薬剤師または医師）が集中できるようになること



# 洗い出した要件
| "優先順位
（高：3、中：2、低：1）" | 機能 | 目的 | 詳細 | ストーリー(ユースケース) | 見積もり（所要時間） |
| --- | --- | --- | --- | --- | --- |
| 3 | レジメン管理機能 | 施設で使用するレジメンを登録する | 施設ごとに使用しているレジメンは異なるため、施設ごとに使用するレジメンをアプリケーション利用者が自ら登録する。 | ・新しく承認されたレジメンを、新規登録することができる。・レジメンの内容が変更された場合、修正ができる。・レジメンごとに注意点などの情報を記述しておくことができる。 | 8 |
| 3 | 患者管理機能 | 患者情報を登録する | 患者情報を登録し、治療歴が管理できる。病名やアレルギー歴、副作用歴などを記録し、治療歴を登録する上で注意点などを確認できる | ・必要な情報を登録しておくことで、治療歴でレジメンを選択した際に注意点をすぐに確認することができる | 8 |
| 2 | 疾患管理機能 | レジメンの適応疾患、患者の疾患を登録し、適応に問題がないか判断する | そもそもどのような疾患、サブタイプ、治療目的があるかを把握できる。レジメンごとにその適応疾患が登録でき、レジメンを利用する際に適切なレジメンが選択されているかが判断できる。 | ・あらかじめ適応疾患などを登録しておくことで、がん治療に詳しくない新人が操作しても、最低限のチェックが可能となる。 | 4 |
| 2 | 薬品管理機能 | 薬品を登録し、レジメン、治療歴にどの薬品が使われる薬を管理する | 取り扱う薬品を登録できる。レジメンで使用する薬品を登録されている薬品から選択できる。 | ・あらかじめ薬品を登録しておくことで、レジメンを登録する際に薬品を登録した薬品から選択でき、入力ミスを防ぐことができる。 | 4 |
| 3 | 治療歴管理機能 | 患者の治療歴、投与量、投与期間、検査値、副作用発現状況などを記録し、管理する | 患者ごとに、治療日、疾患、レジメン、投与量、投与期間、検査値、副作用発現状況などを治療歴として記録し、管理する | ・治療歴で、実施されるレジメンを選択した際に、登録してあるレジメンの情報が参照できる。・選択した患者が、どのような治療歴をたどっているかが一眼でわかる。・レジメン（あるいは疾患）を選択した際に、適応がある疾患（あるいはレジメン）しか表示されないため、誤った適応疾患（あるいはレジメン）であった場合に医療過誤を予防できる。 | 16 |
| 2 | レジメン検索 | 登録されているレジメンを検索する | 既に登録されているレジメンを検索し、レジメンの詳細を確認できる | ・どのようなレジメンが登録されているかレジメン名で検索できる。 | 2 |
| 2 | 患者検索 | 登録されている患者を検索する | 既に登録されている患者を検索し、患者の詳細、治療歴を確認できる | ・登録されている患者名やそれ以外の患者情報から患者を検索できる | 2 |
| 2 | 検査値管理機能 | レジメン毎の投与基準値、治療歴での投与可能判定を行う | レジメンごとに検査値の投与基準が異なるため、個別に設定できるようにする。投与歴ごとに検査値は変化していくため、投与歴ごとにレジメンに登録された投与基準値を満たしているか判断できるようにする。 | ・治療歴に検査値を入力すると、副作用グレード評価が表示される。・治療歴でレジメンを選択すると、レジメンごとの投与基準値が表示される。・治療歴でレジメンの投与基準値を満たさない検査値が入力された際、アラートが表示される。 | 8 |
| 3 | 治療予定患者管理機能 | その日の治療予定患者を管理する | 日別に予定されている治療歴、既に完了している治療歴、中止になった治療歴が一覧で表示される | ・日別に治療予定患者数を瞬時に把握できるようになり、人員リソースの割り振りが可能になる。 | 8 |
| 2 | 薬剤必要量管理機能 | 日別に予定されている治療に必要な薬品の総量を集計する | 日別に予定されている薬品の総量を集計することで、事前の薬品の準備をすることができる | ・日別に薬品の予定使用数をあらかじめ準備する必要があり、発注業務や在庫管理に役立つ。 | 8 |
| 2 | 投与後副作用記録機能 | 治療歴ごとに投与後の副作用発現状況を記録し管理する | 投与後の副作用発現状況は、次回以降の治療方針に大きく関わるため、副作用状況を記録することで当日の治療に問題がないか判断できるようになる | ・副作用歴を確認することで、その患者がどのような副作用を起こしやすいのかを判断することができる。・副作用歴から治療用量に問題がないかを判断することとができる。 | 4 |
| 1 | 疑義紹介記録機能 | 治療歴ごとに、疑義紹介（疑問点が発生した場合に医師への確認すること）を行った内容を記録できる | 疑義紹介を記録することで、次回以降の方針がわかりやすくなること、同じ内容の疑義紹介をしなくて済むようになること、正しく疑義紹介をしているかが判断できるようになることなどが考えられる。 | ・疑義紹介をした際に、その都度内容を該当する治療歴に対してコメント機能に近い機能で記録する。・疑義が発生した際に、以前に同様の疑義紹介を行っているか確認できる。・治療内容のミスが発覚した際に、ただしく疑義紹介を行っているか確認できる。 |  4 |



# 実装した機能
- レジメン管理機能
- 患者管理機能
- 疾患管理機能（実装途中）
- 治療歴管理機能
- レジメン検索機能
- 患者検索機能



# 実装予定の機能
- 薬品管理機能
- 検査値管理機能
- 治療歴のコメント管理機能
- 治療歴検索機能
- 副作用発現状況記録機能
- 使用予定薬品集計機能
- 疑義紹介管理機能



# データベース設計

## テーブル設計

## users テーブル

| Column              | Type    | Options                   |
| ------------------- | ------- | ------------------------- |
| name 名前            | string  | null: false               |
| uid  ログインID      | string  | null: false, unique: true |
| email  メールアドレス | string  | null: false, unique: true |
| encrypted_password  | string  | null: false               |



## patients テーブル

| Column          | Type    | Options       |
| --------------- | ------- | ------------- |
| name 名前        | string  | null: false   |
| gender_id 性別   | integer | null: false   |
| birthday 生年月日 | date    | null: false   |
| text 情報        | test    |               |

### Association

- has_many :treatments



## diseases テーブル

| Column              | Type         | Options     |
| ------------------- | ------------ | ----------- |
| cancer_id がん種     | integer      | null: false |
| other_id その他      | integer      | null: false |
| purpose_id 治療目的  | integer      | null: false |

### Association

- has_many :treatments
- has_many :regimens, through: disease_regimens



## plans(regimens) テーブル

| Column                    | Type         | Options        |
| ------------------------- | ------------ | -------------- |
| name レジメン名             | string       | null: false    |
| period 1クールの日数        | integer      | null: false    |
| emetic_id 催吐性           | integer      | null: false    |
| nk1 NK1拮抗薬              | string       |                |
| 5ht3blocker 5HT3拮抗薬     | string       |                |
| dex デキサメタゾン          | string       |                |
| h1blocker H1拮抗薬         | string       |                |
| h2blocker H2拮抗薬         | string       |                |
| other_medicine その他支持薬 | string       |                |
| text その他の情報           | text         |                |
| medicine_name1~8 薬品名    | string       | 1: null: false |
| abbreviation1~8 略語       | string       | 1: null: false |
| dose1~8 用量               | float        | 1: null: false |
| unit1~8_id 単位            | integer      | 1: null: false |
| schedule1~8 日程           | string       | 1: null: false |

### Association

- has_many :diseases, through: disease_regimens
- has_many :treatments



## treatmentsテーブル

| Column                    | Type       | Options                      |
| ------------------------- | ---------- | ---------------------------- |
| date 日付                  | date      | null: false                   |
| in_out_id 入院外来         | integer    | null: false                   |
| patient_id 患者           | references | null: false, foreign_key: true |
| disease_id 疾患           | references | null: false, foreign_key: true |
| regimen_id レジメン        | references | null: false, foreign_key: true |
| course コース数            | integer    | null: false                   |
| day コース内日数            | integer    | null: false                   |
| measuring_date 測定日      | date       | null: false                   |
| height 身長                | float      | null: false                   |
| weight 体重                | float      | null: false                   |
| dose1~8 投与量             | float      |                               |
| nk1 NK1拮抗薬              | string     |                               |
| 5ht3blocker 5HT3拮抗薬     | string     |                              |
| dex デキサメタゾン          | string     |                               |
| h1blocker H1拮抗薬         | string     |                               |
| h2blocker H2拮抗薬         | string     |                               |
| other_medicine その他支持薬 | string     |                               |
| text メモ                  | text       |                               |

### Association

- belongs_to :patient
- belongs_to :regimen
- belongs_to :disease

